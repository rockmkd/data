<clr-main-container>
  <header class="header-6">
    <div class="branding">
        <a href="..." class="nav-link">
            <clr-icon shape="line-chart"></clr-icon>
            <span class="title">Monitoring Dashboard</span>
        </a>
    </div>
  </header>
  <clr-datagrid>
    <clr-dg-column [clrDgField]="'hostname'">Host</clr-dg-column>
    <clr-dg-column [clrDgField]="'title'">Name</clr-dg-column>
    <clr-dg-column [clrDgField]="'status'">Status</clr-dg-column>
    <clr-dg-column>Error Rate<br />(1m / 5m / 1h / 24h)</clr-dg-column>
    <clr-dg-column>Record Rate<br />(1m / 5m / 1h / 24h)</clr-dg-column>
    <clr-dg-column>JVM</clr-dg-column>
    <clr-dg-row *clrDgItems="let pipeline of pipelines">
      <clr-dg-cell>{{pipeline.host}}</clr-dg-cell>
      <clr-dg-cell>{{pipeline.title}}</clr-dg-cell>
      <clr-dg-cell><span class="status{{pipeline.warningStatus()?' warning':''}}{{pipeline.notingStatus()?' noting':''}}">{{pipeline.getStatusString()}}</span></clr-dg-cell>
      <clr-dg-cell><span *ngIf="pipeline.metrics">
        <span class="metric{{pipeline.metrics.errorRate['1m'] > 0?' warn':'' }}">{{pipeline.metrics.errorRate['1m']}}</span> /
        <span class="metric{{pipeline.metrics.errorRate['5m'] > 0?' warn':'' }}">{{pipeline.metrics.errorRate['5m']}}</span> /
        <span class="metric{{pipeline.metrics.errorRate['1h'] > 0?' warn':'' }}">{{pipeline.metrics.errorRate['1h']}}</span> /
        <span class="metric{{pipeline.metrics.errorRate['24h'] > 0?' warn':'' }}">{{pipeline.metrics.errorRate['24h']}}</span>
      </span></clr-dg-cell>
      <clr-dg-cell><span *ngIf="pipeline.metrics">
        {{pipeline.metrics.recordRate['1m']}} /
        {{pipeline.metrics.recordRate['5m']}} /
        {{pipeline.metrics.recordRate['1h']}} /
        {{pipeline.metrics.recordRate['24h']}}
      </span></clr-dg-cell>
      <clr-dg-cell><span *ngIf="pipeline.metrics">{{pipeline.metrics.jvm['heapUsed']}}</span></clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        <pipeline-command [pipeline]="pipeline"></pipeline-command>
      </clr-dg-row-detail>
    </clr-dg-row>
    <clr-dg-footer>ÎÅù</clr-dg-footer>
  </clr-datagrid>
</clr-main-container>
